import React, { useState } from "react";

const UserType = ({ onSelect }) => {
  const [selectedType, setSelectedType] = useState(null);

  const handleSelect = (type) => {
    setSelectedType(type);
    if (onSelect) {
      onSelect(type === "school" ? "SCHOOL" : "STUDENT"); // Match your Prisma enum
    }
  };

  return (
    <div className="flex gap-4">
      <button type="button"
        onClick={() => handleSelect("school")}
        className={`flex flex-col items-center gap-[8px] w-[179px] py-[20px] rounded-large-md border transition-colors duration-300 ${
          selectedType === "school"
            ? "border-b200 bg-light"
            : "border-b50 bg-light hover:border-b200 hover:bg-b25"
        }`}
      >
        <svg width="45" height="44" viewBox="0 0 45 44" fill="none">
          <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="M21.5857 4.25661C21.5855 4.25668 21.5858 4.25654 21.5857 4.25661L12.2727 8.85899V17.6742C12.2733 17.7024 12.2733 17.7305 12.2727 17.7586V39.9566H16.3636V33.8915C16.3636 32.283 17.0101 30.7403 18.1609 29.6029C19.3117 28.4655 20.8725 27.8265 22.5 27.8265C24.1275 27.8265 25.6883 28.4655 26.8391 29.6029C27.9899 30.7403 28.6364 32.283 28.6364 33.8915V39.9566H32.7273V17.7586C32.7267 17.7305 32.7267 17.7024 32.7273 17.6742V8.85899L23.4143 4.25661C23.4142 4.25654 23.4145 4.25668 23.4143 4.25661C23.1305 4.11653 22.8172 4.04339 22.5 4.04339C22.1828 4.04339 21.8695 4.11652 21.5857 4.25661ZM35.6478 5.78166L25.2434 0.639876C24.3917 0.219211 23.4521 0 22.5 0C21.5479 0 20.6088 0.218995 19.757 0.63966L9.35215 5.78167C9.32637 5.79375 9.30089 5.80635 9.27571 5.81945L5.22161 7.82295C4.2112 8.32229 3.80165 9.53667 4.30685 10.5353C4.81206 11.534 6.04071 11.9388 7.05112 11.4395L8.18182 10.8807V16.4687L2.26227 19.3949C2.26206 19.395 2.26249 19.3948 2.26227 19.3949C1.58314 19.7305 1.01123 20.2466 0.611805 20.8848C0.212249 21.5232 0.000405931 22.259 3.71561e-07 23.0097L0 37.9349C0 39.5435 0.646506 41.0862 1.7973 42.2236C2.94809 43.361 4.5089 44 6.13636 44H38.8636C40.4911 44 42.0519 43.361 43.2027 42.2236C44.3535 41.0862 45 39.5435 45 37.9349V23.0097C44.9996 22.259 44.7878 21.5232 44.3882 20.8848C43.9888 20.2466 43.4175 19.7308 42.7384 19.3952L36.8182 16.4687V10.8807L37.9489 11.4395C38.9593 11.9388 40.1879 11.534 40.6931 10.5353C41.1984 9.53667 40.7888 8.32229 39.7784 7.82295L35.7243 5.81946C35.6991 5.80635 35.6736 5.79375 35.6478 5.78166ZM36.8182 20.9896V39.9566H38.8636C39.4061 39.9566 39.9264 39.7436 40.31 39.3645C40.6936 38.9853 40.9091 38.4711 40.9091 37.9349V23.0119L36.8182 20.9896ZM24.5455 39.9566V33.8915C24.5455 33.3554 24.33 32.8411 23.9464 32.462C23.5628 32.0828 23.0425 31.8698 22.5 31.8698C21.9575 31.8698 21.4372 32.0828 21.0536 32.462C20.67 32.8411 20.4545 33.3554 20.4545 33.8915V39.9566H24.5455ZM8.18182 39.9566V20.9896L4.09156 23.0115L4.09091 37.9349C4.09091 38.4711 4.30641 38.9853 4.69001 39.3645C5.0736 39.7436 5.59387 39.9566 6.13636 39.9566H8.18182ZM22.5 13.6746C21.3703 13.6746 20.4545 14.5797 20.4545 15.6963C20.4545 16.8128 21.3703 17.718 22.5 17.718C23.6297 17.718 24.5455 16.8128 24.5455 15.6963C24.5455 14.5797 23.6297 13.6746 22.5 13.6746ZM16.3636 15.6963C16.3636 12.3466 19.111 9.63121 22.5 9.63121C25.889 9.63121 28.6364 12.3466 28.6364 15.6963C28.6364 19.0459 25.889 21.7614 22.5 21.7614C19.111 21.7614 16.3636 19.0459 16.3636 15.6963Z"
            fill={selectedType === "school" ? "#0F34AE" : "#9DACDE"}
          />
        </svg>
        <p className={`font-bold transition-colors duration-300 ${selectedType === "school" ? "text-b200" : "text-b75 hover:text-b200"}`}>
          Driving School
        </p>
      </button>

      <button type="button"
        onClick={() => handleSelect("learner")}
        className={`flex flex-col items-center gap-[8px] w-[179px] py-[20px] rounded-large-md border transition-colors duration-300 ${
          selectedType === "learner"
            ? "border-b200 bg-light"
            : "border-b50 bg-light hover:border-b200 hover:bg-b25"
        }`}
      >
        <svg width="45" height="45" viewBox="0 0 45 45" fill="none">
          <path
            d="M22.5 5.34375C25.7625 5.34375 28.4062 7.9875 28.4062 11.25C28.4062 14.5125 25.7625 17.1562 22.5 17.1562C19.2375 17.1562 16.5937 14.5125 16.5937 11.25C16.5937 7.9875 19.2375 5.34375 22.5 5.34375ZM22.5 30.6562C30.8531 30.6562 39.6562 34.7625 39.6562 36.5625V39.6562H5.34375V36.5625C5.34375 34.7625 14.1469 30.6562 22.5 30.6562ZM22.5 0C16.2844 0 11.25 5.03437 11.25 11.25C11.25 17.4656 16.2844 22.5 22.5 22.5C28.7156 22.5 33.75 17.4656 33.75 11.25C33.75 5.03437 28.7156 0 22.5 0ZM22.5 25.3125C14.9906 25.3125 0 29.0812 0 36.5625V45H45V36.5625C45 29.0812 30.0094 25.3125 22.5 25.3125Z"
            fill={selectedType === "learner" ? "#0F34AE" : "#9DACDE"}
          />
        </svg>
        <p className={`font-bold transition-colors duration-300 ${selectedType === "learner" ? "text-b200" : "text-b75 hover:text-b200"}`}>
          Learner
        </p>
      </button>
    </div>
  );
};

export default UserType;